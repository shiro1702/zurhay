export const phases = ['moon-new', 'moon-waning-crescent', 'moon-last-quarter', 'moon-waning-gibbous', 'moon-full', 'moon-waxing-gibbous', 'moon-first-quarter', 'moon-waxing-crescent'];

export const zurhay = [
  {
    day: 1,
    haircut: {
      text: 'к укорочению жизни',
      positive: false,
    },
    travel: {
      text: 'к успеху, исполнится все задуманное',
      positive: true, 
    }
  },
  {
    day: 2,
    haircut: {
      text: 'к конфликтам и ссорам',
      positive: false,
    },
    travel: {
      text: 'очень хорошо, к увеличению материального достатка',
      positive: true, 
    }
  },
  {
    day: 3,
    haircut: {
      text: 'к улучшению благосостояния',
      positive: true,
    },
    travel: {
      text: 'к несчастью',
      positive: false, 
    }
  },
  {
    day: 4,
    haircut: {
      text: 'к улучшению самочувствия, увеличению энергии',
      positive: true,
    },
    travel: {
      text: 'к находке, все задуманное исполнится',
      positive: true, 
    }
  },
  {
    day: 5,
    haircut: {
      text: 'к увеличению скота, вещей и денег',
      positive: true,
    },
    travel: {
      text: 'к разочарованию, задуманное не получится',
      positive: false, 
    }
  },
  {
    day: 6,
    haircut: {
      text: 'к улучшению внешнего вида, уверенности',
      positive: true,
    },
    travel: {
      text: 'исполнится все задуманное',
      positive: true, 
    }
  },
  {
    day: 7,
    haircut: {
      text: 'к сплетням, ссорам и недопониманию',
      positive: false,
    },
    travel: {
      text: 'к успеху, исполнится все задуманное',
      positive: true, 
    }
  },
  {
    day: 8,
    haircut: {
      text: 'к удлинению жизни, к наполнению силы жизни',
      positive: true,
    },
    travel: {
      text: 'к успеху, исполнится все задуманное' ,
      positive: true, 
    }
  },
  {
    day: 9,
    haircut: {
      text: 'к непродолжительной болезни',
      positive: false,
    },
    travel: {
      text: 'к увеличению благосостояния',
      positive: true, 
    }
  },
  {
    day: 10,
    haircut: {
      text: 'к улучшению самочувствия, и прибавлению силы',
      positive: true,
    },
    travel: {
      text: 'к большим неприятностям, а также к расставанию с близкими',
      positive: false, 
    }
  },
  {
    day: 11,
    haircut: {
      text: 'к обострению интуиции, внутренних органов чувств',
      positive: true,
    },
    travel: {
      text: 'к плохим вестям',
      positive: false, 
    }
  },
  {
    day: 12,
    haircut: {
      text: 'к улучшению самочувствия, к увеличению энергии',
      positive: true,
    },
    travel: {
      text: 'к утратам и краже',
      positive: false, 
    }
  },
  {
    day: 13,
    haircut: {
      text: 'к увеличению скота, вещей и денег',
      positive: true,
    },
    travel: {
      text: 'очень хорошо, к увеличению материального достатка',
      positive: true, 
    }
  },
  {
    day: 14,
    haircut: {
      text: 'к сплетням, ссорам и недопониманию',
      positive: true,
    },
    travel: {
      text: 'к несчастью',
      positive: false, 
    }
  },
  {
    day: 15,
    haircut: {
      text: 'к удлинению жизни, к наполнению силы жизни',
      positive: true,
    },
    travel: {
      text: 'к находке, все задуманное исполнится',
      positive: true, 
    }
  },
  {
    day: 16,
    haircut: {
      text: 'к непродолжительной болезни',
      positive: false,
    },
    travel: {
      text: 'к приумножению материального богатства',
      positive: true, 
    }
  },
  {
    day: 17,
    haircut: {
      text: 'к ухудшению облика и самочувствия',
      positive: false,
    },
    travel: {
      text: 'к плохим вестям',
      positive: false, 
    }
  },
  {
    day: 18,
    haircut: {
      text: 'к улучшению самочувствия, и прибавлению силы',
      positive: true,
    },
    travel: {
      text: 'к утратам и краже',
      positive: false, 
    }
  },
  {
    day: 19,
    haircut: {
      text: 'к обострению интуиции, внутренних органов чувств',
      positive: true,
    },
    travel: {
      text: 'к плохим вестям',
      positive: false, 
    }
  },
  {
    day: 20,
    haircut: {
      text: 'к жажде, голоду и испытаниям',
      positive: false,
    },
    travel: {
      text: 'к большим неприятностям, а также к расставанию с близкими',
      positive: false, 
    }
  },
  {
    day: 21,
    haircut: {
      text: 'к болезни, к развитию хронической болезни',
      positive: false,
    },
    travel: {
      text: 'к увеличению благосостояния',
      positive: true, 
    }
  },
  {
    day: 22,
    haircut: {
      text: 'к удаче, к приятным находкам',
      positive: true,
    },
    travel: {
      text: 'исполнится все задуманное',
      positive: true, 
    }
  },
  {
    day: 23,
    haircut: {
      text: 'к находке, к повышению по службе',
      positive: true,
    },
    travel: {
      text: 'к разочарованию, задуманное не получится',
      positive: false, 
    }
  },
  {
    day: 24,
    haircut: {
      text: 'к проблемам со здоровьем',
      positive: true,
    },
    travel: {
      text: 'к плохим вестям',
      positive: false, 
    }
  },
  {
    day: 25,
    haircut: {
      text: 'к ухудшению зрения, к усталости',
      positive: false,
    },
    travel: {
      text: 'к несчастью',
      positive: false, 
    }
  },
  {
    day: 26,
    haircut: {
      text: 'к счастью, к достижению задуманного',
      positive: true,
    },
    travel: {
      text: 'очень хорошо, к увеличению материального достатка',
      positive: true, 
    }
  },
  {
    day: 27,
    haircut: {
      text: 'к удаче, везению в делах',
      positive: true,
    },
    travel: {
      text: 'к новым беспокойствам',
      positive: false, 
    }
  },
  {
    day: 28,
    haircut: {
      text: 'к конфликтам и спорам',
      positive: false,
    },
    travel: {
      text: 'к плохим вестям',
      positive: false, 
    }
  },
  {
    day: 29,
    haircut: {
      text: 'к ухудшению самочувствия, к слабости',
      positive: false,
    },
    travel: {
      text: 'к большим неприятностям, а также к расставанию с близкими',
      positive: false, 
    }
  },
  {
    day: 30,
    haircut: {
      text: 'к опасной ситуации для жизни',
      positive: false,
    },
    travel: {
      text: 'к увеличению благосостояния',
      positive: true, 
    }
  },
];

export function getMoonPhase(date) {
    date = new Date(date);
    let year = date.getFullYear();
    let month = date.getMonth()+1;
    let day = date.getDate();
    let hours = date.getTimezoneOffset()/60;
    // let hours = 8;
    let percent = 0;

    let c = 0, e = 0, jd = 0, b = 0;

    if (month < 3) {
      year--;
      month += 12;
    }

    ++month;
    c = 365.25 * year;
    e = 30.6 * month;
    jd = c + e + day + hours/24 - 694039.09; // jd is total days elapsed
    jd /= 29.5305882; // divide by the moon cycle
    b = parseInt(jd); // int(jd) -> b, take integer part of jd
    jd -= b; // subtract integer part to leave fractional part of original jd
    percent = Math.round(jd * 10000) / 100;
    b = Math.round(jd * 8); // scale fraction from 0-8 and round

    if (b >= 8) b = 0; // 0 and 8 are the same so turn 8 into 0
    let moonDate = Math.ceil(jd * 29.5305882)
    return {phase: b, name: phases[b], percent, moonDate, zurhay: zurhay[moonDate - 1] };
};